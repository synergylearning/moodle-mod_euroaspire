YUI.add("moodle-mod_euroaspire-grade",function(e,t){var n={HOVER:"hover",SELECTED:"selected"},r={FORM:"#gradeitemform",CELL:"td",PASS:".gradepass",FAIL:".gradefail",GRADEINPUT:'input[type="hidden"]',GRADECOMMENT:'input[type="text"]'};M.mod_euroaspire=M.mod_euroaspire||{},M.mod_euroaspire.grade={hasChanges:!1,init:function(){"use strict";var t,n;t=e.one(r.FORM),t.addClass("jsinit"),t.delegate("mouseenter",this.enterCell,r.CELL,this),t.delegate("mouseleave",this.leaveCell,r.CELL,this),t.delegate("click",this.clickPass,r.PASS,this),t.delegate("click",this.clickFail,r.FAIL,this),n=this,window.addEventListener("beforeunload",function(e){return n.unsavedWarning(e)}),t.on("submit",function(){this.hasChanges=!1},this),t.delegate("valuechange",function(){this.hasChanges=!0},r.GRADECOMMENT,this)},enterCell:function(e){"use strict";e.currentTarget.addClass(n.HOVER)},leaveCell:function(e){"use strict";e.currentTarget.removeClass(n.HOVER)},clickPass:function(e){"use strict";var t;t=e.currentTarget.ancestor(r.CELL),e.currentTarget.hasClass(n.SELECTED)?this.updateCellGrade(t,"none"):this.updateCellGrade(t,"pass")},clickFail:function(e){"use strict";var t;t=e.currentTarget.ancestor(r.CELL),e.currentTarget.hasClass(n.SELECTED)?this.updateCellGrade(t,"none"):this.updateCellGrade(t,"fail")},updateCellGrade:function(e,t){"use strict";var i,s,o;i=e.one(r.PASS),s=e.one(r.FAIL),o=e.one(r.GRADEINPUT),t==="pass"?i.addClass(n.SELECTED):i.removeClass(n.SELECTED),t==="fail"?s.addClass(n.SELECTED):s.removeClass(n.SELECTED),o.set("value",t),this.hasChanges=!0},unsavedWarning:function(e){"use strict";var t;if(!this.hasChanges)return;return t=M.util.get_string("changesmadereallygoaway","core"),(e||window.event).returnValue=t,t}}},"@VERSION@",{requires:["node","event-mouseenter","event-valuechange","moodle-core-notification-dialogue"]});
